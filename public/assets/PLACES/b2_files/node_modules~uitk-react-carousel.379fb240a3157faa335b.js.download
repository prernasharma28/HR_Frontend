/*@license For license information please refer to node_modules~uitk-react-carousel.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[7117],{10150:function(){},72893:function(e,t,n){n.d(t,{wN:function(){return w},$w:function(){return x}});var r=n(70655),i=n(29892),a=n(67294),u=n(27856),o=n(18420),c=n(10150),l=n.n(c),s=(new Map([["sm","sm"],["md","md"],["lg","lg"],["xl","xl"]]),new Map([["h1","h1"],["h2","h2"],["h3","h3"],["h4","h4"],["h5","h5"],["h6","h6"]])),d=o.AK.bind(l()),f=function(e){var t=e.children,n=e.wrapItems,i=e.ariaHidden,u=e.ariaLabel,c=e.stretchToFill,l=e.carouselContainerRef,s=e.itemIndex,f=a.useState(!1),m=f[0],v=f[1],h=a.useRef(null),g=(0,o.AG)().data,p=null!=g?g:{},x=p.carouselWindowWidth,I=p.carouselSize,b=p.isNaturalWidthItemsCarousel,w=p.setSnapPointItem,y=p.setNaturalWidthItemsViewed,k=p.setNaturalWidthItemsInView,C=p.isRtl,_=p.carouselIsVisible,L="uitk-carousel-item";c||(L+=" uitk-carousel-item-size-auto");(0,a.useLayoutEffect)((function(){var e,t;if(C){var n=null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().width;void 0!==s&&n&&w&&w({payload:{itemIndex:s,snapPoint:n}})}else{var r=null===(t=h.current)||void 0===t?void 0:t.offsetLeft;w&&w({payload:{itemIndex:s,snapPoint:r}})}}),[x,_,I,C]),a.useEffect((function(){var e={threshold:[0,.25,.5,.75,1],root:null==l?void 0:l.current},t=new IntersectionObserver((function(e){e.forEach((function(e){var t=1===e.intersectionRatio;v(t),k({payload:{itemIndex:s,inView:t}}),t&&y({payload:{itemIndex:s}})}))}),e),n=h.current;return b&&n&&t.observe(n),function(){n&&t.unobserve(n)}}),[l,b,s,y,k]);return function(e){var t=n?e.props.className:"",o=!b&&i||b&&!m,c=(0,r.__assign)((0,r.__assign)({},o?{"aria-hidden":!0,tabIndex:-1}:null),{className:d(t?"".concat(t," ").concat(L):L),"data-stid":"carousel-item","aria-label":u,ref:h});if(h.current){var l=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');Array.from(l).filter((function(e){return!e.hasAttribute("aria-hidden")})).forEach((function(e){e[o?"setAttribute":"removeAttribute"]("tabindex","-1")}))}return n?a.createElement("div",(0,r.__assign)({},c),e):a.cloneElement(e,c)}(t)};f.displayName="UitkCarouselItem",f.defaultProps={wrapItems:!0};var m=function(e){var t,n,i,u,o=e.children,c=e.l10n,l=e.size,s=e.currentIndex,d=e.itemCount,m=(0,r.__rest)(e,["children","l10n","size","currentIndex","itemCount"]),v=m.itemsVisible,h=a.Children.toArray(o);return a.createElement(a.Fragment,null,(t=h,n=v[l],i=s,u=s+n,a.Children.map(t,(function(e,t){var n=t<i||t>=u,o=null==c?void 0:c.formatText("carousel.indexAndTotal",t+1,d);return a.createElement(f,(0,r.__assign)({key:t,itemIndex:t,ariaHidden:n,ariaLabel:o},m),e)}))))};m.displayName="UitkCarouselItemList";var v=n(65160),h=n(26044),g=o.AK.bind(l()),p=function(e){var t,n=e.analytics,i=e.buttonText,o=e.carouselName,c=e.naturalWidthItems,l=e.currentIndex,s=e.carouselContainerRef,d=e.itemCount,f=e.itemsVisible,m=e.fullSheetVisible,p=e.navigationIconId,I=e.onNextCb,b=e.onPrevCb,w=e.pagingOverlay,y=e.scrollEventOngoing,k=void 0!==y&&y,C=e.size,_=e.isRtl,L=e.renderPrevNavButton,R=void 0!==L&&L,E=e.renderNextNavButton,A=void 0===E||E,N=f[C],P=g("uitk-carousel-button-paging","uitk-carousel-button-prev"),S=g("uitk-carousel-button-paging","uitk-carousel-button-next"),T=a.useRef(null),W=a.useRef(null),V="ontouchstart"in window?50:0,M=n&&(0,r.__assign)({localAnalyticsId:"".concat(o,".Carousel.").concat(x.clickLeft)},n),O=n&&(0,r.__assign)({localAnalyticsId:"".concat(o,".Carousel.").concat(x.clickRight)},n),z=function(e){e&&e.current&&e.current.focus()},B=(0,u.D)(V,(function(){(b&&b(),c&&(null==s?void 0:s.current))?s.current.scrollLeft-.75*s.current.getBoundingClientRect().width<=0&&z(T):N>0&&1===l&&z(T)})),F=(0,u.D)(V,(function(){if(I&&I(),c&&(null==s?void 0:s.current)){var e=s.current,t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;t+.75*s.current.getBoundingClientRect().width>=n-r&&z(W)}else N>0&&l===d-N-1&&z(W)})),j=a.useCallback((function(e){_?"ArrowLeft"===e.key?F():"ArrowRight"===e.key&&B():"ArrowLeft"===e.key?B():"ArrowRight"===e.key&&F()}),[_,F,B]);return a.useEffect((function(){if(m)return document.body.addEventListener("keydown",j),function(){document.body.removeEventListener("keydown",j)}}),[m,j]),t=g("uitk-carousel-controls",!R&&A&&"show-next-button-only",!A&&R&&"show-prev-button-only"),a.createElement("div",{className:t},R&&a.createElement(v.S,{analytics:M,className:P,iconId:null==p?void 0:p.prev,iconTitle:i.prevButton,onClick:k&&c?void 0:B,domRef:W,"data-stid":"carousel-nav-prev","aria-label":i.prevButton,tabIndex:0,pagingOverlay:w}),A&&a.createElement(h.Q,{analytics:O,className:S,iconId:null==p?void 0:p.next,iconTitle:i.nextButton,onClick:k&&c?void 0:F,domRef:T,"data-stid":"carousel-nav-next","aria-label":i.nextButton,tabIndex:0,pagingOverlay:w}))};p.displayName="UitkCarouselNav";var x,I=o.AK.bind(l());!function(e){e.clickLeft="clickLeft",e.clickRight="clickRight",e.scrollLeft="scrollLeft",e.scrollRight="scrollRight"}(x||(x={}));var b=function(e){var t=e.analytics,n=e.buttonText,i=e.carouselHeaderLevel,c=e.carouselHeaderText,l=e.carouselHeaderVisible,d=e.carouselName,f=e.carouselRef,v=e.children,h=e.className,g=e.domRef,b=e.fullSheetVisible,w=e.hideNav,y=void 0!==w&&w,k=e.innerSpacing,C=e.itemsGap,_=void 0===C?{sm:16,md:16,lg:16}:C,L=e.itemsVisible,R=void 0===L?{sm:1,md:2,lg:3,xl:4}:L,E=e.itemsMaxHeight,A=void 0!==E&&E,N=e.l10n,P=e.naturalWidthItems,S=void 0!==P&&P,T=e.navigationIconId,W=void 0===T?{next:"next-button",prev:"prev-button"}:T,V=e.onChange,M=e.onIndexChange,O=e.pagingInset,z=void 0!==O&&O,B=e.pagingOverlay,F=void 0!==B&&B,j=e.pagingPersistent,U=e.peek,H=void 0!==U&&U,q=e.peekAmount,D=void 0===q?{sm:48,md:16,lg:32}:q,K=e.startIndex,Q=void 0===K?0:K,G=e.stretchToFill,Z=void 0===G||G,$=e.useContainerSizing,J=void 0===$||$,X=e.wrapItems,Y=void 0===X||X,ee=a.useState(!1),te=ee[0],ne=ee[1],re=a.useState(0),ie=re[0],ae=re[1],ue=a.useState(!1),oe=ue[0],ce=ue[1],le=a.useState(!1),se=le[0],de=le[1],fe=a.useState("sm"),me=fe[0],ve=fe[1],he=a.useState(16),ge=he[0],pe=he[1],xe=a.useState(48),Ie=xe[0],be=xe[1],we=a.useState(0),ye=we[0],ke=we[1],Ce=a.useState(!1),_e=Ce[0],Le=Ce[1],Re=a.useState(!1),Ee=Re[0],Ae=Re[1],Ne=a.useState({PARTIAL:!1,FULL:!1}),Pe=Ne[0],Se=Ne[1],Te=a.useState(0),We=Te[0],Ve=Te[1],Me=a.useState(!1),Oe=Me[0],ze=Me[1],Be=a.useRef(!1),Fe=a.useRef(!1),je=a.useRef(!1),Ue=a.useRef(!1),He=a.useRef(!1),qe=a.useRef(null),De=a.useRef(null),Ke=a.useRef([]),Qe=a.useRef(0),Ge=a.useRef(!0),Ze=a.Children.count(v),$e=null!=g?g:qe,Je=R[me],Xe=!S&&1===Je&&!H,Ye=H&&D&&k,et=function(e){return se&&0!==e?-1*e:e},tt=a.useRef([]),nt=a.useReducer((function(e,t){var n=t.payload,i=n.itemIndex,a=n.snapPoint,u=se?function(){var t,n=null===(t=e.find((function(e){return e.itemIndex===i-1})))||void 0===t?void 0:t.snapPoint;return 0===i?ye||0:a+ge+(n||0)}():Math.floor(a);return-1!==e.findIndex((function(e){return e.itemIndex===n.itemIndex}))?e.map((function(e,t){return t===i?(0,r.__assign)((0,r.__assign)({},e),{snapPoint:u}):e})):(n.snapPoint=u,(0,r.__spreadArray)((0,r.__spreadArray)([],e,!0),[n],!1))}),[]),rt=nt[0],it=nt[1],at=a.useReducer((function(e,t){var n=t.payload;return-1!==e.findIndex((function(e){return e.itemIndex===n.itemIndex}))?e.map((function(e,t){return t===n.itemIndex?(0,r.__assign)((0,r.__assign)({},e),{inView:n.inView}):e})).sort((function(e,t){return e.itemIndex-t.itemIndex})):(0,r.__spreadArray)((0,r.__spreadArray)([],e,!0),[n],!1).sort((function(e,t){return e.itemIndex-t.itemIndex}))}),[]),ut=at[0],ot=at[1],ct=a.useReducer((function(e,t){var n=t.payload;return(-1===e.findIndex((function(e){return e.itemIndex===n.itemIndex}))?(0,r.__spreadArray)((0,r.__spreadArray)([],e,!0),[n],!1):e).sort((function(e,t){return e.itemIndex-t.itemIndex}))}),[]),lt=ct[0],st=ct[1],dt=function(e){if(tt.current.length>0){for(var t=tt.current.length,n=Object.values(tt.current).map((function(e){return e.snapPoint})),r=0,i=t-1;r<i;)Math.abs(n[r]-e)<=Math.abs(n[i]-e)?i-=1:r+=1;return n.indexOf(n[r])}return 0},ft=function(){var n=function(n){Ke.current[n]||(Ke.current[n]=!0,"function"==typeof e.itemViewedCallback&&e.itemViewedCallback(n),t&&(0,o.EQ)(t,"".concat(d,".Carousel.itemViewed.").concat(n),""))};if(S)lt.forEach((function(e){n(e.itemIndex)}));else{var r=Je;H&&(r+=1);for(var i=0;i<r&&ie+i<a.Children.count(v);++i)n(ie+i)}},mt=a.useCallback((function(e){t&&(0,o.EQ)(t,"".concat(d,".Carousel.").concat(e?x.scrollRight:x.scrollLeft),"")}),[t,d]),vt=function(e){if(De.current){if(Xe){var t=De.current.getBoundingClientRect().width,n=Math.abs(e);return Math.round(n/t)}return dt(e)}return 0},ht=function(){var e=De.current;if(e){var t=e.scrollLeft,n=e.clientWidth,r=e.scrollWidth-n-1;Ae(et(t)>=r)}},gt=function(e){var t;if(De.current){!Ue.current&&ze(!0);var n=De.current,r=et(n.scrollLeft),i=e-r,a=function(u){t||(t=u);var o=function(e,t,n,r){var i,a=e>=350||He.current;return{done:a,position:a?t:n+r*((i=e/350)<.5?2*Math.pow(i,2):1-Math.pow(-2*i+2,2)/2)}}(u-t,e,r,i),c=o.done,l=o.position;n.scrollLeft=et(Xe?e:l),c||Xe?(ht(),ze(!1),!Fe.current&&mt(i>0)):window.requestAnimationFrame(a)};Ue.current?(n.scrollLeft=et(e),ht(),ne(!0),Ue.current=!1):window.requestAnimationFrame(a),Qe.current=e}},pt=function(e){var t=Ze-Je,n=function(e){return!0===Ge.current?e+1:e}(e);return n>t?t:n},xt=a.useCallback((0,u.D)(200,(function(){var e;if(je.current)je.current=!1;else if(Be.current)Be.current=!1;else if(Ue.current=!1,De.current){var t=et(De.current.scrollLeft);t>Qe.current?Ge.current=!0:Ge.current=!1;var n=t-Qe.current>0;if(mt(n),Qe.current=t,Fe.current)Fe.current=!1;else{var r=S?(e=t,De.current?dt(e):0):vt(t),i=Xe?r:pt(r);ae(i)}ht()}})),[me,se]),It=a.useCallback((function(e){e.key&&(Be.current=!0,je.current=!1)}),[me,se]);a.useEffect((function(){return document.body.addEventListener("keydown",It),function(){document.body.removeEventListener("keydown",It)}}),[It]);var bt=function(e){if(!H||Ye)return rt[e]&&rt[e].snapPoint-ye;if(H&&!Ye){var t=Je>1?(Ie+ge)/2-ye:0;return rt[e]&&rt[e].snapPoint-t}},wt=function(){var e=null==De?void 0:De.current;if(window&&Ve(window.innerWidth),e){var t=getComputedStyle(e).getPropertyValue("--size")||"sm";"xl"!==t||R.xl||(t="lg"),t&&function(e){var t=S?12:_&&_[e],n=k&&k[e],r=H&&D&&D[e],i=n?r+n:r;t&&pe(Number((0,o.jy)(t,!1))),i&&be(Number((0,o.jy)(i,!1))),n&&ke(Number((0,o.jy)(n,!1)))}(t),ve(t),_e||Le(!0)}},yt=function(e){var t,n;if(Fe.current=!1,Ue.current=!1,S){var r=De.current;if(r){var i=.75*r.getBoundingClientRect().width,a=et(r.scrollLeft),u=r.clientWidth,o=r.scrollWidth-u-2*ye,c=1===e?a+i:a-i,l=1===e&&c>o,s=dt(c),d=dt(o)+1;l?(ae(d),!Ee&&1===e&&gt(null===(t=rt[d])||void 0===t?void 0:t.snapPoint)):ae(s)}}else{var f=Je,m=1===e?ie+Number(f):ie-Number(f),v=Ze-Je;m<0?m=0:m>=v&&(m=v),ae(m),m!==v||Ee||1!==e||gt(null===(n=rt[m])||void 0===n?void 0:n.snapPoint)}Be.current=!0},kt=function(){yt(-1)},Ct=function(){yt(1)},_t=function(e){var t;if(Be.current=!0,S&&De.current){var n=De.current,r=n.clientWidth,i=n.scrollWidth;t=dt(i-r-2*ye)+1}else t=Ze-Je;ae(e<0?0:e>=t?t:e)};a.useEffect((function(){if(te&&function(){if(De.current){var e=De.current.querySelectorAll('\n          .uitk-carousel-item:not([aria-hidden="true"]) h1:not([aria-hidden="true"]),\n          .uitk-carousel-item:not([aria-hidden="true"]) h2:not([aria-hidden="true"]),\n          .uitk-carousel-item:not([aria-hidden="true"]) h3:not([aria-hidden="true"]),\n          .uitk-carousel-item:not([aria-hidden="true"]) h4:not([aria-hidden="true"]),\n          .uitk-carousel-item:not([aria-hidden="true"]) h5:not([aria-hidden="true"]),\n          .uitk-carousel-item:not([aria-hidden="true"]) h6:not([aria-hidden="true"])\n        '),t=Array.from(e).map((function(e){return e.innerText||e.textContent})),n=ut.filter((function(e){return e.inView})).map((function(e){return e.itemIndex+1}));S?setTimeout((function(){(0,o.Pg)(N.formatText("carousel.indexAndTotal",n.join(", "),Ze,""),o.aC.POLITE)}),200):t.length>0?setTimeout((function(){(0,o.Pg)(N.formatText("carousel.cardChange",t.join(", ")),o.aC.POLITE)}),200):setTimeout((function(){(0,o.Pg)(N.formatText("gallerycarousel.imageChange",ie+1,Ze,""),o.aC.POLITE)}),200)}}(),_e&&Pe.FULL&&ft(),Be.current){Fe.current=!1,Be.current=!1,je.current=!0;var e=bt(ie);gt(e)}}),[Pe.FULL,ie,ut,lt,_e]),a.useEffect((function(){M&&M(ie)}),[ie]),a.useEffect((function(){tt.current=rt}),[rt]),a.useEffect((function(){wt(),!Q&&De.current&&(De.current.scrollLeft=0),Q?(Ue.current=!0,_t(Q)):ne(!0),"ontouchstart"in window&&ce(!0),"rtl"===document.querySelector("html").getAttribute("dir")&&de(!0),(0,o.Pg)(""),_e&&Pe.FULL&&ft()}),[_e]),a.useEffect((function(){window&&Ve(window.innerWidth);var e=(0,u.D)(200,(function(){We!==window.innerWidth&&(Ve(window.innerWidth),wt())}));return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[me,ie]),a.useEffect((function(){var e=window&&window.matchMedia("(prefers-reduced-motion: reduce)");He.current=!e||e.matches,e.addEventListener("change",(function(){He.current=e.matches}))}),[]),a.useEffect((function(){var e;if(!S&&!Ue.current){var t=et(null===(e=null==De?void 0:De.current)||void 0===e?void 0:e.scrollLeft),n=vt(t);if(n>0&&rt){Fe.current=!0;var r=bt(n);r&&(ae(n),gt(r))}}}),[me,We,rt]),a.useEffect((function(){V&&V(De)})),a.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){Se({PARTIAL:e.isIntersecting,FULL:1===e.intersectionRatio})}))}),{threshold:[0,1],root:null}),t=De.current;return t&&e.observe(t),function(){t&&e.unobserve(t)}}),[]);var Lt=a.useMemo((function(){return{isNaturalWidthItemsCarousel:S,carouselWindowWidth:We,carouselSize:me,setSnapPointItem:it,setNaturalWidthItemsInView:ot,setNaturalWidthItemsViewed:st,isRtl:se,carouselIsVisible:Pe.PARTIAL}}),[S,We,se,me,Pe.PARTIAL]),Rt=a.useMemo((function(){return(0,o.jy)(_[me])}),[me,_]),Et=a.useMemo((function(){return{sm:D.sm+((null==k?void 0:k.sm)||0),md:D.md+((null==k?void 0:k.md)||0),lg:D.lg+((null==k?void 0:k.lg)||0),xl:D.xl?D.xl+((null==k?void 0:k.xl)||0):D.lg+((null==k?void 0:k.lg)||0)}}),[D,k]),At=a.useCallback((function(e,t,n){void 0===n&&(n=!0);var r={};return Object.keys(t).forEach((function(i){var a=t[i],u=n?"".concat((0,o.jy)(a)):a;r["--uitk-carousel-".concat(e,"-").concat(i)]=u})),r}),[]),Nt=a.useCallback((function(){return Xe?"0px":S?"".concat(12,"px"):Rt}),[Rt,Xe,S]);return a.useImperativeHandle(f,(function(){return{changeIndex:function(e){return _t(e)}}})),function(){var e,u=I("uitk-carousel",(!H||!(Je<Ze))&&"no-peek",!z&&"no-inset",!oe&&"no-touch",A&&"items-max-height",Xe&&"full-image-gallery-type",k&&"has-inner-spacing",j&&"has-persistent-nav",h,me||"sm"),f=I("uitk-carousel-container",Xe&&"full-image-gallery-type",(He.current||Ue.current)&&"no-animation-on-scroll",S&&"has-natural-width-items",J&&"use-container-sizing"),g={analytics:t,buttonText:n,carouselName:d,currentIndex:ie,itemCount:Ze,itemsVisible:R,fullSheetVisible:b,navigationIconId:W,onNextCb:Ct,onPrevCb:kt,pagingOverlay:F,scrollEventOngoing:Oe,size:me,isRtl:se,naturalWidthItems:S,carouselContainerRef:De,renderPrevNavButton:ie>0,renderNextNavButton:Xe?ie<Ze-1:!Ee},x=i&&s.get(i)||s.get("h3"),w=function(){if(!S)return Ze>Je;var e=null==De?void 0:De.current;if(e){var t=e.getBoundingClientRect().width,n=e.scrollWidth;return Math.ceil(t)<n}}(),C=(0,r.__assign)((0,r.__assign)({"--uitk-carousel-items-gap":Nt()},k&&(0,r.__assign)({"--uitk-carousel-inner-spacing":"".concat(ye,"px")},At("inner-spacing",k))),!Xe&&!S&&(0,r.__assign)((0,r.__assign)((0,r.__assign)({},At("items-gap",_)),At("peek-amount",Et)),At("item-count",R,!1)));return a.createElement(o.ZZ,{config:{context:"uitk-carousel-context",data:Lt}},a.createElement("div",{className:u,ref:$e,"data-stid":"carousel-wrapper"},c&&a.createElement(x,{className:I((e={},e["is-visually-hidden"]=!l,e))},c),a.createElement("div",{className:f,"aria-label":c,ref:De,onScroll:xt,"data-stid":"carousel-container",style:C,tabIndex:0},a.createElement(m,{itemsVisible:R,size:me,currentIndex:ie,l10n:N,peek:H,wrapItems:!(!S&&!Xe)||Y,itemCount:Ze,stretchToFill:Z},v)),!y&&w&&a.createElement(p,(0,r.__assign)({},g))))}()},w=function(e){var t=(0,i.useLocalization)();return a.createElement(b,(0,r.__assign)({l10n:t},e))};w.displayName="UitkCarousel"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/blossom-flex-ui/node_modules~uitk-react-carousel.379fb240a3157faa335b.js.map