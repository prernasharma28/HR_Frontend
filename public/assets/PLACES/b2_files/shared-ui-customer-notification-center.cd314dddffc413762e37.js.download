/*@license For license information please refer to shared-ui-customer-notification-center.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[5908],{41861:function(e,n,t){t.d(n,{L:function(){return de}});var i=t(67294),o=t(66252),r=t(92787),l=t(71646),a=t(49586),c=t(51163),u=t(74243),s=t(48961),d=t(38859),m=t(95878),f=t(98250),v=t(19633),p=t(73030),E=t(21155),y=t(49740),b=t(66858),g=t(46191),k=t(8365),S=t(77135),h=t(10033),C=t(20698),I=t(25354),A=t(16658),_=t(22535),x=t(64418);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){w(e,n,t[n])}))}return e}function z(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(r.push(i.value),!n||r.length!==n);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return r}}(e,n)||T(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function L(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,n){if(e){if("string"==typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,n):void 0}}function P(){var e=j(["\n  mutation DeleteNotificationById($contextInput: ContextInput, $notificationId: String!) {\n    deleteNotificationById(context: $contextInput, notificationId: $notificationId) {\n      operationStatus\n    }\n  }\n"]);return P=function(){return e},e}function R(){var e=j(["\n  mutation UpdateInboxState($contextInput: ContextInput, $ids: [String!]!, $state: NotificationState!) {\n    updateInboxState(context: $contextInput, notificationIds: $ids, state: $state) {\n      notificationId\n      operationStatus\n      notificationState\n    }\n  }\n"]);return R=function(){return e},e}function M(){var e=j(["\n  query NotificationCenterQuery($context: ContextInput!) {\n    notification(context: $context) {\n      notificationCenter {\n        unseen\n        redirectPath\n        revealActions {\n          __typename\n          ... on NotificationAnalytics {\n            description\n            referrerId\n          }\n        }\n        title {\n          completeText\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              target\n              actions {\n                __typename\n                ... on NotificationAnalytics {\n                  description\n                  referrerId\n                }\n              }\n            }\n          }\n        }\n        icon {\n          id\n          description\n        }\n        emptyState {\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n        }\n        deleteActionForm {\n          title\n          sections {\n            title\n            fields {\n              label\n              __typename\n            }\n          }\n          feedbackMessages {\n            name\n            title\n            text\n            displayType\n            level\n          }\n        }\n        notifications {\n          type\n          subType\n          containerLink {\n            id\n            uri {\n              __typename\n              value\n            }\n            target\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          logo {\n            url\n          }\n          backgroundImage {\n            url\n          }\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n          revealActions {\n            __typename\n            ... on NotificationAnalytics {\n              description\n              referrerId\n            }\n            ... on NotificationMarketing {\n              marketingCode\n              marketingCodeDetail\n            }\n          }\n          links {\n            text\n            uri {\n              __typename\n              value\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          state\n          timeStamp\n          notificationId\n          userActions {\n            __typename\n            type\n            text\n            icon {\n              id\n              description\n              title\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}function F(){var e=j(["\n  query NotificationCenterGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n  ) {\n    globalHeader(context: $context, viewSize: $viewSize, lineOfBusiness: $lineOfBusiness, layout: $layout) {\n      redDotState @client\n    }\n  }\n"]);return F=function(){return e},e}var $=function(e,n){var t=function(e){var t,i=null===(t=n.payload)||void 0===t?void 0:t.find((function(n){return n.notificationId===e.notificationId}));return null!=i},i=function(n){var i;return(null!==(i=null==e?void 0:e.notificationsList)&&void 0!==i?i:[]).map((function(e){return t(e)?z(N({},e),{state:n}):e}))};switch(n.action){case 0:return z(N({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return z(N({},e),{notificationsList:i("READ"),unseenCount:0});case 2:var o;return z(N({},e),{notificationsList:(null!==(o=e.notificationsList)&&void 0!==o?o:[]).filter((function(e){return!t(e)})),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},B=(0,i.createContext)({lineOfBusiness:"UNKNOWN",notificationCenterObject:{notificationsList:[],unseenCount:0},viewSize:null,dispatch:function(){return[]}}),H=function(e){var n=e.notificationCenterObject,t=e.lineOfBusiness,o=e.viewSize,r=e.children,l=D((0,i.useReducer)($,{notificationsList:n.notificationsList,unseenCount:n.unseenCount}),2),a=l[0],c=l[1];return i.createElement(B.Provider,{value:(0,i.useMemo)((function(){return{notificationCenterObject:a,dispatch:c,lineOfBusiness:t,viewSize:o}}),[a,c,t,o])},r||null)},U=function(){return i.useContext(B)},G=function(e,n,t){if(e){var i=[];e.forEach((function(e){"NotificationAnalytics"===e.__typename&&(i=i.concat(e))})),n&&i.forEach((function(e){var i=e.referrerId;t&&(i="".concat(e.referrerId,".Click")),n(i,e.description||"")}))}},V=function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",o=window.location.hash?window.location.hash:"",r=t.concat(i,o);n="&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(r)))}return e+n},q=function(e){var n,t,o=e.ncIcon,r=e.emptyState;return i.createElement(y.i,{alignContent:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(E.m,{padded:!1},i.createElement(s.b,{padding:{inlinestart:"four",inlineend:"four"}},i.createElement("div",null,i.createElement(y.j,{alignSelf:"center"},i.createElement("section",null,i.createElement(d.c,{align:"center"},i.createElement(c.a,{name:o,size:c.E.LARGE})),i.createElement(s.b,{padding:{blockstart:"four",blockend:"four"}},i.createElement(d.E,{align:"center",tag:"h1",size:5},null==r||null===(n=r.title)||void 0===n?void 0:n.items[0].text)),i.createElement(d.c,{align:"center",size:300},null==r||null===(t=r.body)||void 0===t?void 0:t[0].items[0].text)))))))},K=function(e){var n,t,o,r,l=e.notification,a=e.onClick,c=e.children,u=(null===(t=l.links)||void 0===t||null===(n=t[0].uri)||void 0===n?void 0:n.value)?null===(r=l.links)||void 0===r||null===(o=r[0].uri)||void 0===o?void 0:o.value:"#";return i.createElement("a",{href:u,target:"_blank",rel:"noopener",onClick:a},c)},Q=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick;return i.createElement(C.E,{size:t,onClick:r},i.createElement(c.a,{name:n,size:o}))},W=function(e){var n=e.sheetState,t=e.onSheetOpenTriggerClick,o=e.actionItems;return i.createElement(i.Fragment,null,i.createElement(Q,{name:"more_vert",buttonSize:a.E.MEDIUM,iconSize:c.E.MEDIUM,onClick:t}),n&&i.createElement("div",{tabIndex:0,role:"button",onKeyDown:t,onClick:t},i.createElement(h.E,{type:h.a.OVERLAY,color:h.b.PRIMARY})),i.createElement(k.h,{isVisible:n},i.createElement(k.e,{isVisible:n,triggerRef:null},i.createElement(s.b,{padding:{block:"three"}},i.createElement("div",null,i.createElement(S.d,{items:o}))))))},Y=function(e){var n=e.menuState,t=e.onMenuOpenTriggerClick,o=e.actionItems,r=e.actionState,l=e.setActionState,u=i.useRef(null);return i.useEffect((function(){var e=function(e){var t;!(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))&&n&&l(new Array(r.length).fill(!1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[u,r,n,l]),i.createElement("div",{ref:u},i.createElement(S.E,{isOpen:n},i.createElement(S.b,null,i.createElement(Q,{name:"more_vert",buttonSize:a.E.MEDIUM,iconSize:c.E.MEDIUM,onClick:t})),i.createElement(S.c,{position:S.P.RIGHT},i.createElement(S.d,{items:o}))))},J=(0,I.Ps)(P());function X(e,n,t,i){return e({variables:{contextInput:n,ids:t,state:i}})}var Z=(0,I.Ps)(R()),ee=function(e){var n=function(e){var n;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(n=e.icon)||void 0===n?void 0:n.id},label:e.text,onClick:R,typeAnchor:!0}},t=function(e,n){var t;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(t=e.icon)||void 0===t?void 0:t.id},onClick:n,label:e.text,typeAnchor:!0}},o=function(){var e=a.state,i=a.userActions;return i&&3===i.length?"READ"===e?function(e){return[n(e[0]),t(e[2],(function(){return F(e[2])}))]}(i):function(e){return[n(e[0]),t(e[1],(function(){return M(e[1])}))]}(i):[]},r=e.deleteActionForm,a=e.notification,c=e.actionState,u=e.setActionState,s=e.index,E=e.setMenuClickHandlerState,y=null!=r?r:{},b=y.title,S=void 0===b?"":b,h=y.sections,C=void 0===h?[]:h,I=new Array(c.length).fill(!1),A=U().dispatch,_=(0,m.v)().context,x=D((0,p.useDialog)("notification-center-delete-action-".concat(a.notificationId),"notificationCenterDeleteDialog"),3),O=x[0],w=x[1],N=x[2],z=D((0,l.D)(J),1)[0],j=D((0,l.D)(Z),1)[0],T=(0,f.Gv)(),P=function(){c[s]||T("Web.Notification.InApp.ActionList.Click","user action list click");var e=L(I);e[s]=!c[s],u(e)};i.useEffect((function(){var e=function(e){E&&E(e)};e(!!O)}),[O,E]);var R=function(){u(I),w.openDialog()},M=function(e){G(e.actions,T,!1),u(I),A({action:1,payload:[a]}),X(j,_,[a.notificationId||""],"READ")},F=function(e){G(e.actions,T,!1),u(I),A({action:0,payload:[a]}),X(j,_,[a.notificationId||""],"SEEN")};return i.createElement(i.Fragment,null,i.createElement(v.l_,null,i.createElement(v.N2,null,i.createElement(Y,{menuState:c[s],onMenuOpenTriggerClick:function(){return P()},actionItems:o(),actionState:c,setActionState:u})),i.createElement(v.Vk,null,i.createElement(W,{sheetState:c[s],onSheetOpenTriggerClick:function(){return P()},actionItems:o()}))),O&&i.createElement(k.h,{isVisible:O},i.createElement(N,null,i.createElement(g.a,{dialogShow:O,returnFocusOnClose:!0,autoFocus:!0},i.createElement(g.b,null,i.createElement(d.E,{tag:"h1",size:5,key:"dialogHeading"},S),i.createElement(d.a,{key:"dialogParagraph",size:2},C[0].title),i.createElement(g.c,{key:"EGDSDialogFooter",stacked:!0,buttonOne:{onClick:function(){var e,n;G(null==(e=a)||null===(n=e.userActions)||void 0===n?void 0:n[0].actions,T,!1),A({action:2,payload:[e]}),u(I),w.closeDialog(),function(e,n,t){e({variables:{contextInput:n,notificationId:t}})}(z,_,a.notificationId||"")},text:C[0].fields[0].label,type:"primary"},buttonTwo:{onClick:function(){u(I),w.closeDialog()},text:C[0].fields[1].label,type:"tertiary"}}))))))},ne=function(e){var n,t,o=e.deleteActionForm,r=e.setMenuClickHandlerState,a=U().notificationCenterObject,u=(0,m.v)().context,v=(0,f.Gv)(),p=U().dispatch,g=D((0,l.D)(Z),1)[0],k=function(e){G(e.revealActions,v,!0),"READ"!==e.state&&(p({action:1,payload:[e]}),X(g,u,[e.notificationId],"READ"))},S=new Array(null===(n=a.notificationsList)||void 0===n?void 0:n.length).fill(!1),h=D(i.useState(S),2),C=h[0],I=h[1];return i.createElement(i.Fragment,null,null===(t=a.notificationsList)||void 0===t?void 0:t.map((function(e,n){var t,l,a,u,m,f,v,p,g,S,h,A,_,x,O,w,N;return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(s.b,{padding:{block:"three",inlinestart:"one",inlineend:"half"}},i.createElement(y.i,null,i.createElement(y.j,{alignSelf:"start",grow:0},i.createElement(K,{notification:e,onClick:function(){return k(e)}},i.createElement(E.m,{padded:["blockstart","blockend","inlinestart"]},i.createElement(s.b,{margin:{blockstart:"one"}},i.createElement(b.o,{visible:"SEEN"===e.state}))))),i.createElement(y.j,{alignSelf:"start",grow:0},i.createElement(K,{notification:e,onClick:function(){return k(e)}},i.createElement(E.m,{"data-stid":"notification-center-lob-icon",padded:["blockstart","blockend","inlinestart"]},e.icon&&i.createElement(c.a,{name:null===(t=e.icon)||void 0===t?void 0:t.id,size:c.E.MEDIUM})))),i.createElement(y.j,{grow:1},i.createElement(E.m,{padded:["blockstart","blockend","inlinestart"]},i.createElement(E.q,null,i.createElement("a",{href:(null===(a=e.links)||void 0===a||null===(l=a[0].uri)||void 0===l?void 0:l.value)?null===(m=e.links)||void 0===m||null===(u=m[0].uri)||void 0===u?void 0:u.value:"#",target:"_blank",rel:"noopener",onClick:function(){return k(e)}},null===(v=e.title)||void 0===v||null===(f=v.items)||void 0===f?void 0:f[0].text)),(null===(g=e.title)||void 0===g||null===(p=g.items)||void 0===p?void 0:p[0].text)&&i.createElement(d.E,{tag:"h2",size:5},null===(h=e.title)||void 0===h||null===(S=h.items)||void 0===S?void 0:S[0].text),(null===(x=e.body)||void 0===x||null===(_=x[0])||void 0===_||null===(A=_.items)||void 0===A?void 0:A[0].text)&&i.createElement(s.b,{padding:{blockstart:"two"}},i.createElement(d.c,{overflow:"truncate-3-lines",size:300,theme:"standard",weight:"SEEN"===e.state?"bold":"regular"},null===(N=e.body)||void 0===N||null===(w=N[0])||void 0===w||null===(O=w.items)||void 0===O?void 0:O[0].text)),e.timeStamp&&i.createElement(s.b,{padding:{blockstart:"two"}},i.createElement(d.c,{size:100,theme:"standard",spacing:"two"},null==e?void 0:e.timeStamp)))),i.createElement(y.j,null,i.createElement(E.m,{padded:["blockstart","blockend","inlineend"]},i.createElement(ee,{deleteActionForm:o,notification:e,actionState:C,setActionState:I,index:n,setMenuClickHandlerState:r}))))))})))},te=function(e){var n=e.ncIcon,t=e.emptyState,o=e.deleteActionForm,r=e.setMenuClickHandlerState,l=U().notificationCenterObject;return l.notificationsList&&0!==l.notificationsList.length?i.createElement(ne,{deleteActionForm:o,setMenuClickHandlerState:r}):i.createElement(v.l_,null,i.createElement(v.N2,null,i.createElement("div",{style:{height:450}},i.createElement(q,{ncIcon:n,emptyState:t}))),i.createElement(v.Vk,null,i.createElement("div",{style:{height:500}},i.createElement(q,{ncIcon:n,emptyState:t}))))},ie=(0,I.Ps)(M()),oe=(0,I.Ps)(F()),re=function(e){var n=e.ncTitle,t=e.ncRevealActions,r=e.children,l=e.isDialogOpen,a=e.dialogActions,c=e.DialogComponent,v=e.onClick,p=U(),E=p.notificationCenterObject,g=p.lineOfBusiness,S=p.viewSize,h=p.dispatch,C=(0,o.x)(),I=(0,m.v)().context,_=i.useRef(null),x=null==t?void 0:t[1],O=(null==x?void 0:x.referrerId)||"",w=(null==x?void 0:x.description)||"",N=null!==E.unseenCount&&E.unseenCount>0,z=i.createElement(y.i,null,i.createElement(y.j,null,i.createElement(d.c,{size:300,theme:"standard"},n)),i.createElement(y.j,null,N&&i.createElement(f.Pt,{referrerId:O,linkName:w},i.createElement(b.n,{visible:!0}))));return i.createElement(i.Fragment,null,i.createElement(s.b,{padding:{block:"three",inline:"six"}},i.createElement(u.E,{onClick:function(){C.writeQuery({query:oe,data:{globalHeader:{redDotState:"NOT_VISIBLE"}},variables:{context:I,viewSize:S,lineOfBusiness:g}}),v(E,h),a.toggleDialog()},domRef:_},i.createElement("button",{type:"button"},z))),l&&i.createElement(k.h,{isVisible:l},i.createElement(c,null,i.createElement(k.e,{type:"full",isVisible:l,triggerRef:_,returnFocusOnClose:!0},i.createElement(A.b,{navigationContent:{onClick:a.closeDialog,navType:"close"},toolbarTitle:n}),i.createElement(k.f,{padded:!1},r)))))},le=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,l=e.deleteActionForm,a=e.onClick,c=D((0,p.useDialog)("notification-center-settings"),3),u=c[0],s=c[1],d=c[2];return i.createElement(re,{ncTitle:n,ncRevealActions:o,isDialogOpen:u,dialogActions:s,DialogComponent:d,onClick:a},i.createElement(te,{ncIcon:t,emptyState:r,deleteActionForm:l}))};le.displayName="sharedui-NotificationCenterDialog";var ae=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick,l=e.description,a=U().notificationCenterObject,u=(0,x.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(C.E,{className:u,size:t,onClick:r},i.createElement(_.d,{display:"inline-block",type:"relative"},i.createElement(c.a,{name:n,size:o,id:"".concat(n,"-icon"),title:l}),i.createElement(_.d,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(b.n,{visible:null!==a.unseenCount&&a.unseenCount>0}))))},ce=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.children,l=e.isOpen,u=e.setOpen,s=e.onClick,m=e.menuClickHandlerState,v=e.ncDescription,p=U(),g=p.notificationCenterObject,k=p.dispatch,h=null==o?void 0:o[1],I=(null==h?void 0:h.referrerId)||"",A=(null==h?void 0:h.description)||"",O=null!==g.unseenCount&&g.unseenCount>0,w=(0,x.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(y.j,{minWidth:"zero",grow:0},i.createElement(S.E,{isOpen:l,onTriggerClick:function(){u(!l)},disableBodyClickHandler:m},i.createElement(S.b,null,i.createElement(C.E,{className:w,size:a.E.LARGE,onClick:function(){l||s(g,k)},id:"".concat(t,"-button")},i.createElement(_.d,{display:"inline-block",type:"relative"},i.createElement(c.a,{name:t,size:c.E.LARGE,id:"".concat(t,"-icon"),title:v}),i.createElement(_.d,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},O&&i.createElement(f.Pt,{referrerId:I,linkName:A},i.createElement(b.n,{visible:!0})))))),i.createElement(S.c,{position:S.P.RIGHT,autoPosition:!0,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},i.createElement(E.m,{padded:!0,border:"bottom"},i.createElement(d.E,{size:5,tag:"h1"},n)),r))))},ue=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,l=e.deleteActionForm,a=e.onClick,c=e.ncDescription,u=D(i.useState(!1),2),s=u[0],d=u[1],m=D(i.useState(!1),2),f=m[0],v=m[1];return i.createElement(ce,{ncTitle:n,ncRevealActions:o,ncIcon:t,isOpen:s,setOpen:d,onClick:a,menuClickHandlerState:f,ncDescription:c},i.createElement(te,{ncIcon:t,emptyState:r,deleteActionForm:l,setMenuClickHandlerState:v}))};ue.displayName="sharedui-NotificationCenterMenu";var se=ie,de=function(e){var n,t,p,E,y,b=e.inputs,g=e.skipSsr,k=b.lineOfBusiness,S=b.viewSize,h=(0,m.v)().context,C=(0,o.x)(),I={context:h},A=(0,r.a)(se,{variables:I,ssr:!g,onCompleted:function(e){var n,t,i,o=null==e||null===(t=e.notification)||void 0===t||null===(n=t.notificationCenter)||void 0===n?void 0:n.unseen;null!==o&&o>0&&"AUTHENTICATED"===(null==h||null===(i=h.identity)||void 0===i?void 0:i.authState)&&C.writeQuery({query:oe,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:h,viewSize:S,lineOfBusiness:k}})}}),_=A.data,x=A.error,O=A.loading,w=D((0,l.D)(Z),1)[0],N=(0,f.Gv)();if(O||x||!_)return null;var z,j=null==_||null===(n=_.notification)||void 0===n?void 0:n.notificationCenter,L=null===(p=j.title)||void 0===p||null===(t=p.items[0])||void 0===t?void 0:t.text,T=null!==(z=null==j?void 0:j.revealActions)&&void 0!==z?z:[],P=null===(E=j.icon)||void 0===E?void 0:E.id,R=null===(y=j.icon)||void 0===y?void 0:y.description,M=null==j?void 0:j.unseen,F=j.emptyState,$=j.deleteActionForm,B=j.notifications,U=j.redirectPath;if(!(L&&P&&F&&$&&B))return null;var q=function(){var e=j.revealActions;if(e&&(null==e?void 0:e.length)>0){var n=new Array(1).fill(e[0]);G(n,N,!1)}},K=function(e,n){var t;q();var i,o=null===(t=e.notificationsList)||void 0===t?void 0:t.filter((function(e){return"UNSEEN"===(null==e?void 0:e.state)}));if(o&&o.length>0){n({action:0,payload:o});var r=(null==(i=o)?void 0:i.map((function(e){return e.notificationId||""})).filter((function(e){return""!==e})))||[];r&&r.length>0&&X(w,h,r,"SEEN")}!function(e,n){if(n){var t="Web.Notification.NC.Opened.".concat(n.length);e(t,"Notification Screen load"),n.length>0&&n.forEach((function(n){G(n.revealActions,e,!1)}))}}(N,e.notificationsList)};return U&&U.length>0?i.createElement(H,{notificationCenterObject:{notificationsList:B,unseenCount:M||0},lineOfBusiness:k,viewSize:S},i.createElement("a",{href:V(U),"aria-label":L},i.createElement(v.l_,null,i.createElement(v.N2,null,i.createElement(ae,{name:P,buttonSize:a.E.LARGE,iconSize:c.E.LARGE,onClick:q,description:null!=R?R:L})),i.createElement(v.Vk,null,i.createElement(s.b,{padding:{block:"three",inline:"six"}},i.createElement(u.E,{className:"uitk-list-item"},i.createElement("button",{type:"button",onClick:q},i.createElement(d.c,{size:300,theme:"standard"},L)))))))):i.createElement(H,{notificationCenterObject:{notificationsList:B,unseenCount:M||0},lineOfBusiness:k,viewSize:S},i.createElement(v.l_,null,i.createElement(v.N2,null,i.createElement(ue,{ncTitle:L,ncRevealActions:T,ncIcon:P,emptyState:F,deleteActionForm:$,onClick:K,ncDescription:null!=R?R:L})),i.createElement(v.Vk,null,i.createElement(le,{ncTitle:L,ncRevealActions:T,ncIcon:P,emptyState:F,deleteActionForm:$,onClick:K}))))};de.displayName="sharedui-NotificationCenter"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/blossom-flex-ui/shared-ui-customer-notification-center.cd314dddffc413762e37.js.map